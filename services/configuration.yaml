agent_services: # List all Cortex Agent services
  - service_name: "<service_name>"
    description: > # Describe contents of the agent service"
      "<Agent service that ...>"
    database_name: "<database_name>"
    schema_name: "<schema_name>"
  - service_name: "<service_name>"
    description: > # Describe contents of the agent service"
      "<Agent service that ...>"
    database_name: "<database_name>"
    schema_name: "<schema_name>"
search_services: # List all Cortex Search services
  - service_name: "<service_name>"
    description: > # Describe contents of the search service"
      "<Search services that ...>"
    database_name: "<database_name>"
    schema_name: "<schema_name>"
  - service_name: "<service_name>"
    description: > # Describe contents of the search service"
      "<Search services that ...>"
    database_name: "<database_name>"
    schema_name: "<schema_name>"
analyst_services: # List all Cortex Analyst semantic models/views
  - service_name: "<service_name>" # Create descriptive name for the service
    semantic_model: "<semantic_yaml_or_view>" # Fully-qualify semantic YAML model or Semantic View
    description: > # Describe contents of the analyst service"
      "<Analyst service that ...>"
  - service_name: "<service_name>" # Create descriptive name for the service
    semantic_model: "<semantic_yaml_or_view>" # Fully-qualify semantic YAML model or Semantic View
    description: > # Describe contents of the analyst service"
      "<Analyst service that ...>"
other_services: # Set desired tool groups to True to enable tools for that group
  object_manager: True # Perform basic operations against Snowflake's most common objects such as creation, dropping, updating, and more.
  query_manager: True # Run LLM-generated SQL managed by user-configured permissions.
  semantic_manager: True # Discover and query Snowflake Semantic Views and their components.
sql_statement_permissions: # List SQL statements to explicitly allow (True) or disallow (False).
  # - All: True # To allow everything, uncomment and set All: True.
  - Alter: True
  - Command: True
  - Comment: True
  - Commit: True
  - Create: True
  - Delete: True
  - Describe: True
  - Drop: True
  - Insert: True
  - Merge: True
  - Rollback: True
  - Select: True
  - Transaction: True
  - TruncateTable: True
  - Unknown: False # To allow unknown or unmapped statement types, set Unknown: True.
  - Update: True
  - Use: True

# Query comment configuration - adds metadata to queries for observability
# Format matches dbt query tag schema for consistency across tools
# Context can be set via:
#   1. Environment variables: SNOWFLAKE_MCP_MODEL, SNOWFLAKE_MCP_USER_EMAIL, SNOWFLAKE_MCP_USER_NAME
#   2. Runtime: Call the set_query_context tool at session start
query_comment:
  enabled: True # Enabled by default for observability
  # template: # Optional custom template (default matches dbt query tag format)
  #   agent: "{agent_name}"
  #   context:
  #     request_id: "{request_id}"
  #     timestamp: "{timestamp}"
  #   model_version: "{model}"
  #   query:
  #     tool: "{tool_name}"
  #     statement_type: "{statement_type}"
  #   user:
  #     email: "{user_email}"
  #     name: "{user_name}"
  #
  # Supported template variables:
  #   {request_id} - Unique UUID for this request
  #   {timestamp} - ISO 8601 timestamp (UTC)
  #   {tool_name} - Name of the MCP tool executing the query
  #   {statement_type} - SQL statement type (Select, Insert, etc.)
  #   {model} - AI model version (from set_query_context or SNOWFLAKE_MCP_MODEL env var)
  #   {agent_name} - Agent name (from set_query_context, defaults to "mcp-server-snowflake")
  #   {user_email} - User email (from set_query_context or SNOWFLAKE_MCP_USER_EMAIL env var)
  #   {user_name} - User name (from set_query_context or SNOWFLAKE_MCP_USER_NAME env var)
  #   {session_id} - Session ID (from set_query_context)
  #   {server_name} - MCP server name
  #   {server_version} - Server version
  #   {custom_key} - Any custom key set via set_query_context tool
  #
  # To set context at runtime, call the set_query_context tool:
  #   set_query_context(
  #     model="claude-sonnet-4-5-20250929",
  #     agent_name="Claude Code",
  #     user_email="user@example.com",
  #     user_name="username"
  #   )
